<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <!-- Bootstrap CDN -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
      crossorigin="anonymous"
    />
    <!--   Google Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Crimson+Text&display=swap"
      rel="stylesheet"
    />
    <title>Filifili</title>
  </head>
  <body>
    <h1>
      Filifili
    </h1>
    <a href="/">
      <button>Home</button>
    </a>
    <p id="type">Video Type</p>
    <iframe id="video" frameborder="0" allowfullscreen></iframe>

<!--     <div>
      <input type="text" id="comment" />
      <button>
        Submit
      </button>
    </div> -->
    
    

    <script>
      var videoType;
      // let ws, msgs = [];
      window.onload = function() {
        videoType = getUrlVars()["video"];
        console.log("video type: " + videoType);

        var type = document.getElementById("type");
        var video = document.getElementById("video");

        if (videoType === "music") {
          type.innerHTML = "Relaxing Guitar Music";
          video.src = "https://www.youtube.com/embed/oFEKYxjYDIc";
        } else if (videoType === "cooking") {
          type.innerHTML = "Cooking Tutorial";
          video.src = "https://www.youtube.com/embed/mhDJNfV7hjk";
        } else if (videoType === "talkShow") {
          type.innerHTML = "Talk Show";
          video.src = "https://www.youtube.com/embed/v=odtAJ2kPdqc";
        }

        //         type.innerHTML = videoType;
        function getUrlVars() {
          var vars = {};
          var parts = window.location.href.replace(
            /[?&]+([^=&]+)=([^&]*)/gi,
            function(m, key, value) {
              vars[key] = value;
            }
          );
          return vars;
        }

        // ws = new WebSocket("ws://127.0.0.1:3000");
        // // when connection is established...
        // ws.onopen = () => {
        //   ws.send("a new client has connected.");
        //   ws.onmessage = msg => {
        //     // add message to end of msgs array,
        //     // re-assign to trigger UI update
        //     msgs = msgs.concat([msg.data]);
        //   };
        // };
      };

      // const send = function() {
      //   const txt = document.querySelector("input").value;
      //   ws.send(txt);
      //   // re-assigning to msgs variable triggers UI update
      //   msgs = msgs.concat([txt]);
      // };
    </script>
  </body>
</html>
